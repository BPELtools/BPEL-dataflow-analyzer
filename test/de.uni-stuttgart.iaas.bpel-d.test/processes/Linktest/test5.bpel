<!-- test5 BPEL Process [Generated by the Eclipse BPEL Designer] -->
<!-- Date: Wed Feb 03 12:54:26 CET 2010 -->
<bpel:process name="test5"
         targetNamespace="http://gyy.com/gyyNS"
         suppressJoinFailure="yes"
         xmlns:tns="http://gyy.com/gyyNS"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         >
         
    <!-- ================================================================= -->         
    <!-- PARTNERLINKS                                                      -->
    <!-- List of services participating in this BPEL process               -->
    <!-- ================================================================= -->         
    <bpel:partnerLinks>       
    </bpel:partnerLinks>
  
    <!-- ================================================================= -->         
    <!-- VARIABLES                                                         -->
    <!-- List of messages and XML documents used within this BPEL process  -->
    <!-- ================================================================= -->         
    <bpel:variables>
    </bpel:variables>
	<bpel:flow name="Flow">
		<bpel:links>
			<bpel:link name="link1" />
			<bpel:link name="link2" />
			<bpel:link name="link3" />
			<bpel:link name="link4" />
		</bpel:links>
		<bpel:receive createInstance="yes" name="A" partnerLink="client"

			portType="tns:test1" operation="process" variable="input">
			<bpel:sources>
				<bpel:source linkName="link1">
					<bpel:transitionCondition>2=2</bpel:transitionCondition>
				</bpel:source>
				<bpel:source linkName="link2">
					<bpel:transitionCondition>1=1</bpel:transitionCondition>
				</bpel:source>
			</bpel:sources>
		</bpel:receive>
		<bpel:while name ="while">
			<bpel:targets>
                	<bpel:target linkName="link1" />
            </bpel:targets>
            <bpel:sources>
                	<bpel:source linkName="link3" />
            </bpel:sources>
			<bpel:condition> ('$moreWork' = true() ) </bpel:condition>
			<bpel:flow>
    			<bpel:if name="if1">
         			<bpel:condition> ("$gotMilk" = true() ) </bpel:condition>
          			
               		<bpel:assign validate="no" name="B">
            	           
            		<bpel:copy>
                		<bpel:from>
                    		<bpel:literal>false, ...</bpel:literal>
                		</bpel:from>
                	<bpel:to part="text" variable="response" />
            		</bpel:copy>            
            	</bpel:assign>
          			
   				</bpel:if>
   				<bpel:if name="if2">
         			<bpel:condition>  ('$event1' = true() ) </bpel:condition>
                    <bpel:elseif name="elseif">
            		<bpel:condition>  ('$event2' = true() ) </bpel:condition>

                        <bpel:assign validate="no" name="D"><bpel:copy>
                			<bpel:from>
                    			<bpel:literal>Liebe, Kunden...</bpel:literal>
                			</bpel:from>
                			<bpel:to part="text" variable="response" />
            			</bpel:copy>            
            
                	
                        </bpel:assign>
                    </bpel:elseif>
                    <bpel:assign validate="no" name="C">
            				<bpel:copy>
                				<bpel:from>
                    				<bpel:literal>Dear customer, ...</bpel:literal>
                				</bpel:from>
                			<bpel:to part="text" variable="response" />
            				</bpel:copy>            
            			</bpel:assign>

     			</bpel:if>
			</bpel:flow>
		</bpel:while> 
		<bpel:assign name="E" validate="no">
			<bpel:targets>
				<bpel:target linkName="link2" />
			</bpel:targets>
			<bpel:sources>
				<bpel:source linkName="link4" />
			</bpel:sources>
			<bpel:copy>
				<bpel:from>
					<bpel:literal>ABC</bpel:literal>
				</bpel:from>
				<bpel:to part="text" variable="output" />
			</bpel:copy>
		</bpel:assign>
		<bpel:reply name="f" partnerLink="client" portType="tns:test1"
			operation="process" variable="output">
			<bpel:targets>
				<bpel:target linkName="link3" />
				<bpel:target linkName="link4" />
			</bpel:targets>
		</bpel:reply>
	</bpel:flow>
</bpel:process>

