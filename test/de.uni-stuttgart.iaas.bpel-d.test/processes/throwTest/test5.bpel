<!-- test5 BPEL Process [Generated by the Eclipse BPEL Designer] -->
<!-- Date: Wed Feb 17 14:11:51 CET 2010 -->
<bpel:process name="test5"
         targetNamespace="http://gyy.com/test5NS"
         suppressJoinFailure="yes"
         xmlns:tns="http://gyy.com/test5NS"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         >
         
    <!-- ================================================================= -->         
    <!-- PARTNERLINKS                                                      -->
    <!-- List of services participating in this BPEL process               -->
    <!-- ================================================================= -->         
    <bpel:partnerLinks>       
    </bpel:partnerLinks>
  
    <!-- ================================================================= -->         
    <!-- VARIABLES                                                         -->
    <!-- List of messages and XML documents used within this BPEL process  -->
    <!-- ================================================================= -->         
    <bpel:variables>
    </bpel:variables>

    <!-- ================================================================= -->         
    <!-- ORCHESTRATION LOGIC                                               -->
    <!-- Set of activities coordinating the flow of messages across the    -->
    <!-- services integrated within this business process                  -->
    <!-- ================================================================= -->             
    <bpel:flow name="Flow">
     		<bpel:links>
            <bpel:link name="link1"></bpel:link>
            <bpel:link name="link2"></bpel:link>
        </bpel:links>
    <bpel:assign validate="no" name="A">
            <bpel:sources>
                <bpel:source linkName="link1"></bpel:source>
            </bpel:sources>
            <bpel:copy>
                <bpel:from>
                    <bpel:literal>Dear customer, ...</bpel:literal>
                </bpel:from>
                <bpel:to part="text" variable="response" />
            </bpel:copy>  
      </bpel:assign>
      <bpel:forEach parallel="no" counterName="CounterXXX" name="ForEach">
           <bpel:scope name="Scope"><bpel:compensationHandler>

    					<bpel:assign name="B" validate="no">
							<bpel:copy>
								<bpel:from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[concat($output.payload, " ", $Counter)]]></bpel:from>
								<bpel:to part="text" variable="response" />
							</bpel:copy>
						</bpel:assign>
    				</bpel:compensationHandler><bpel:terminationHandler>
  				<bpel:compensate />
  			</bpel:terminationHandler>
    				<bpel:empty name="G">

            		</bpel:empty>       
            </bpel:scope>
            <bpel:startCounterValue expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[1]]></bpel:startCounterValue>
			<bpel:finalCounterValue expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[5]]></bpel:finalCounterValue>
            <bpel:targets>
                <bpel:target linkName="link1"></bpel:target>
            </bpel:targets><bpel:sources>
                <bpel:source linkName="link2"></bpel:source>
            </bpel:sources>
            </bpel:forEach>
            <bpel:assign validate="no" name="C">
            <bpel:targets>
                <bpel:target linkName="link2"></bpel:target>
            </bpel:targets>
            <bpel:copy>
                <bpel:from>
                    <bpel:literal>Dear customer, ...</bpel:literal>
                </bpel:from>
                <bpel:to part="text" variable="response" />
            	</bpel:copy>  
        </bpel:assign></bpel:flow>
</bpel:process>

